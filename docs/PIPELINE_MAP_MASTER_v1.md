[Master Pipeline Map] Offline-to-Online Data Flow1. Offline Phase (자산 사전 구축 단계)Body Module (오프라인)입력: SizeKorea 12K Raw Data (12,000명의 한국인 신체 스캔 및 45종 핵심 측정치 정보).프로세스: SMPL-X $\beta$ Calibration. Raw 데이터를 SMPL-X 모델 파라미터로 최적화하여 384개의 대표 체형 빈(Bin)을 생성함.상세: 성별(2) × 키(8) × BMI(6) × 연령(4) 스키마를 통해 대표 프로토타입 P1(메도이드) 산출.출력: 384 Prototype Bank.결과물: 프로토타입별 최적 베타/잔차 파라미터 셋 및 품질 점수 (calibration_quality_score).출력물 규격: prototype_params/*.npz, prototype_index.json, prototype_meta.json.데이터 이동:Online Body Module: 실시간 사용자 매핑 및 추론 프로세스의 기준 데이터로 이용됨.Offline Fitting Module: SDF 뱅크 생성을 위한 기초 메쉬 데이터로 전달됨.Garment Module (오프라인)입력: Seller Intake Contract (G0). 판매자 업로드 이미지(정면/측면/후면/히어로) 및 재질 정보(material_token).프로세스: Fabric Swatch & Texture DNA Processing. 스와치 이미지의 품질을 진단하고 이물질(단추, 라벨 등)을 탐지하여 타일링 가능한 텍스처 임베딩을 추출함.출력: Garment Latent Asset.결과물: IP-Adapter 연동용 Texture DNA 및 잠재 공간 임베딩.출력물 규격: embedding.pt, latent_meta.json (호환 버전 및 재가공 플래그 포함).데이터 이동: Online Generation Module로 직접 전달되어 최종 이미지 합성 시 IP-Adapter의 입력값으로 사용됨.Fitting Module (오프라인)입력: 384 Prototype Bank (Body Module에서 생성된 메쉬 셋).프로세스: SDF Bank Table Generation. 온라인상의 실시간 연산 부하를 줄이기 위해 미리 모든 프로토타입의 SDF(Signed Distance Field) 데이터를 사전 연산함.규칙: voxel_size_mm $\le$ 2.0 규격을 준수하여 고해상도 충돌 필드 구축.출력: SDF Bank Table.결과물: 프로토타입 ID별 SDF 바이너리 데이터 뱅크.출력물 규격: sdf_bank_version, SDF Binary Data (NPZ 또는 바이너리 포맷).데이터 이동: Online Fitting Module로 전달되어 실시간 Solver의 충돌 방지 참조 데이터로 이용됨.2. Online Phase (실시간 피팅 실행 단계)Body Module (온라인)입력: User Body Request. 사용자가 입력한 성별, 나이, 키(cm), 몸무게(kg) 정보.프로세스: Body Mapping & Inference. 2cm 단위 양자화(Quantization)를 통해 Prototype Bank에서 최적 모델을 선택하고, 세부 수치를 보정(Delta Compensation)하여 최종 메쉬 생성.출력: Body Output Set.결과물: 사용자 맞춤형 3D Body Mesh 및 핵심 부위 측정치 리포트.출력물 규격: body_mesh.npz (내부용), body_measurements_subset.json (인터페이스용).데이터 이동: Online Fitting Module의 Core Input으로 전달되어 의류와 결합됨.Garment Module (온라인)입력: Intake Pre-processed Data. 오프라인 가공을 거친 의류 이미지 및 템플릿 정보.프로세스: Shirt Template Proxy Mesh System (G2). 선택된 셔츠 템플릿과 사용자 신체를 매핑하여 구조 가이드용 프록시 메쉬를 생성함.규칙: ROI(카라, 암홀, 로고 패널 등) 부위의 앵커 정합 중심의 정밀화 수행.출력: Garment Output Set.결과물: ControlNet 제어용 프록시 메쉬 및 지오메트리 무결성 메타데이터.출력물 규격: garment_proxy_mesh.glb, garment_proxy_meta.json (negative_face_area_flag 포함).데이터 이동: Online Fitting Module로 전달되어 신체 메쉬 위에 입혀짐.Fitting Module (온라인)입력: Body Output Set, Garment Output Set, SDF Bank Table (오프라인 산출물).프로세스: SDF Collision Solver & Clipping Defense. 신체와 의류의 간섭을 물리적으로 해결하고, 품질 센서를 통해 결과 검수 후 필요 시 재생성 루프(최대 2회)를 실행함.출력: Fitting Result Set.결과물: 최종 피팅이 완료된 결과 이미지 생성을 위한 조건 이미지 세트.출력물 규격: depth.png, normal.png, fit_signal.json, provenance.json.데이터 이동: Online Generation Module로 전달되어 최종 이미지 합성의 가이드가 됨.Generation Module (온라인)입력: Fitting Result Set (가이드 이미지), Garment Latent Asset (오프라인 텍스처 데이터).프로세스: Hybrid Image Synthesis. ControlNet(구조 가이드)과 IP-Adapter(텍스처 DNA)를 결합하여 최종 실사 피팅 이미지를 렌더링함.출력: Final Delivery.결과물: 판매자 및 고객에게 전달될 최종 가상 피팅 이미지.출력물 규격: final_layer_result.png, gen_provenance.json.데이터 이동: 최종 사용자(UI)에게 결과값으로 반환됨.